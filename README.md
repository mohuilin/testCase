###### 登录/注册模块
* 手机号码验证登录
```
测试场景：用户在输入手机号码界面，未登录状态
操作流程：
1.在手机号码框中输入手机号码（正确格式、错误格式）
2.点击验证手机，进入code验证界面
3.等待120秒后重新发送验证码以及语音接收验证码
4.输入6位数字验证码（验证正确的和错误的code）
5.如果号码已经被绑定进入用户登录界面
6.如果号码没有注册进入注册流程
7.登录\注册成功进入私钥备份，手势设置前置引导界面
注意点：
1.需要验证手机号码格式
```

* 注册流程
```
测试场景：用户输入没有绑定的手机号码、扫描未注册的私钥
操作流程：
1.进入手机声音生成随机数界面
2.生成随机数（声音生成随机数、在安静环境下利用系统生成随机数）
3.进入注册界面，输入昵称，密码，上传头像注册用户
4.注册成功进去私钥备份，手势设置前置引导界面
注意点：
1.注册时昵称，密码不能为空，头像可选
2.密码验证规则“密码长度为8位以上，必须包含字母、数字或字符中的两种”
```

* 扫描登录流程
```
测试场景：进入登录模块扫描界面
操作流程：
1.扫描二维码/从相册选择 二维码
2.如果为加密私钥进入登录界面
3.如果为私钥判断该私钥是否注册过（Y：进去密码重置界面，N：进去注册界面）
注意点：
1.扫面时需要测试不同的二维码，验证判断逻辑是否正确
2.需要扫描不同版本的加密私钥，判断兼容性
```

###### 设置模块
* 用户信息，手机绑定，登录密码，支付密码，通用设置
```
测试场景：用户已经登录
测试流程：
1.测试修改头像、昵称、ConnectID（只能修改一次）
2.测试修改，解绑手机号码
3.测试修改登录密码（密码长度为8位以上，必须包含字母、数字或字符中的两种）
4.测试修改\设置支付密码，设置手续费，自动计算手续费
5.测试设置应用内语言（中文，英文，俄文），设置转账转换货币，消息设置（声音、震动）
```

* 手势设置
```
测试场景：用户已经登录
测试流程：
1.进去手势设置页面（未设置情况），链接任意个圆圈
2.小于4个提示错误，大于4个，再次输入一致，设置成功
3.进入手势修改界面（已经设置情况），链接圆圈，验证是否正确
4.手势正确进去手势设置状态，参考1,2
5.进去手势关闭界面（已经设置情况），链接圆圈，验证是否正确
6.手势正确关闭成功
注意点：
1.当设置手势后，沙盒储存的是加密私钥
2.当关闭手势后，沙盒储存的是纯私钥
```

###### 钱包模块
* 转账通用流程
```
测试目的：保证用户能够正常的支付账单，如果服务器出现错误给出相应的提示。
测试场景：单人转账，单人红包，群组红包，众筹付款，外部转战，多人转账，外部红包，比特币地址转账。
操作流程：
1.点击转账按钮，首先与本地余额进行比较，如果本地余额不足会弹出余额不足
2.输入金额过小（一般来说小于0.001）余额：弹出提示 输入金额过小.
3.再次检查余额，如果不充足，会显示余额不足
4.如果交易笔数过多弹出:太多输入或输出, 交易无法生成 ，
5.开启自动设置手续费，如果计算的手续费大于最大手续费会弹出：
自动计算的手续费(XXX)大于最大设定，是否需要修改手续费为最大值并继续？
6.如果计算的手续费不大于最大手续费,走正常的支付流程
7.如果手续费过低，弹出提示：手续费太低，确定要继续么？
8.检查找零地址金额：找零地址金额太小，金额为:xxx，是否需要将找零计算到手续费中?
9.如果是免密支付，直接支付
10.如果设置了指纹支付，支付支付完成显示成功和失败
11.对于设置支付密码，输入密码直接支付。
12.没有设置支付密码，设置密码并验证成功会显示支付结果
注意：
1.转账过程中是否有自己
2.支付要注意：是否设置过支付密码，还有换手机修改支付密码，再回到原手机是否能够正常支付。
```

* 收款功能
```
测试场景：钱包收款
操作流程：
1.点击钱包界面中的收款，点击设置金额，输入金额同时二维码发生改变
2.扫一扫结果出现到比特币地址转账，设置金额了的，比特币地址转账出现金额，没有设置金额的默认0.001
```

* 转账功能
```
测试场景：钱包转账
操作流程：
1.点击钱包界面中的转账，有最近转账显示最近转账（最近转账出现的条件：iOS：单人转账android：单人转账，外部转账，外部红包）。
2.点击转账到好友，出现通讯录的好友，不出现群组
3.点击转账到比特币地址，出现转账到比特币地址界面。
4.通过网页链接转账，出现外部转账页面。
5.点击最近转账跳转到单人转账界面。
```
* 红包功能
```
测试场景：钱包转账
操作流程：
1.点击钱包界面中的转账，出现转账到好友，转账到比特币地址，通过网页链接转账，如果最近转账了出现最近转账的联系人，如果没有最近转账的联系人则不出现。
2.点击转账到好友，出现通讯录的好友，不出现群组
3.点击转账到比特币地址，出现转账到比特币地址界面。
4.通过网页链接转账，出现外部转账页面。
5.点击最近转账跳转到单人转账界面。
```
* 转账记录
```
测试场景：钱包中的记录
操作流程：
1.点击钱包的左上边的转账记录按钮，会根据类型进行区分，如果是系统红包显示红包的头像，并且昵称：显示来自connect团队。
2.如果是单人转账显示的转账人的头像，昵称显示的对方的昵称。
3.如果是比特币地址转账头像显示的比特币的图标，昵称显示的比特币地址。
4.如果是中间地址打给自己的红包头像显示的是红包的头像，昵称显示的是地址。
```
* 地址薄
```
测试场景：转账到比特币地址---右上角图标---比特币地址薄
操作流程：
1.点击添加输入比特币地址，如果该比特币地址存在提示：该地址已经存在。
2.输入自己的比特币地址提示：该地址已经存在。
3.侧滑点击标签开始编辑标签。
4.如果标签文字长度大于32，或者长度小于2保存按钮不可用。
5.点击删除，删除该标签
6.点击右上角按钮进入扫码页面，逻辑同扫一扫逻辑。
```

###### 联系人模块
* 好友列表流程
```
测试场景：联系人
操作流程：
1.点击联系人，出现好友，群组（存在),常用联系人（存在）界面。
2.如果接受到了好友添加请求会出现添加好友的信息，新的朋友栏将不会显示。
3.点击群组信息，打开保存到通讯录开关，点击联系人常用群组会出现刚才选择的群组。
4.点击联系人详情信息，打开保存到通讯录，好友列表中不会在出现刚才的联系人，常用联系人会出现刚才的联系人。反之，结果相反。
5.点击联系人头像，如果是联系人会出现联系人详情界面，点击信息按钮会出现单聊的界面，点击比特币图标会出现单人转账界面，点击分享按钮会出现分享名片界面。
6.点击设备备注与标签会出现修改备注和标签界面，输入标签总的标签会增加，
7.点击总的标签如果该标签存在该联系人标签里，则删除该标签。
8.长按总的标签删除总的标签同时该联系人的标签也会删除。
9.长按联系人的标签删除该联系人的标签但总的标签不会有影响。
10.修改联系人的备注，联系人详情界面用户昵称会改变，聊天界面会改变。
11.点击转账记录会跳转到与该联系人转战的界面。显示类型与钱包的转账记录类型相似。
12.打开常用联系人的开关，会把此人加入到常用联系人，反之相反。
13.打开加入黑名单开关，会在设置黑名单列表中出现该联系人。
14.删除好友联系人里不会出现该好友，同时会话聊天界面也会删除该好友的聊天，退出群组亦然。
15.侧滑只有联系人或者常用联系人可以侧滑，点击侧滑出来的设置按钮进入到联系人详情界面。
```
* 搜索
```
测试场景：联系人搜索
操作流程：
1.点击联系人左上脚的搜索按钮会出现搜索界面，输入搜索内容如果是本地联系人或者群组会出现界面中，
2点击界面中的网路搜索会进入搜索界面，通过网络搜索可以根据contectid，电话号码，和地址进行搜索，
3.搜索出联系人会出现添加按钮，点击添加弹出弹框添加该联系人。
4.点击搜索出来的联系人进入联系人详情界面。点击搜索出来的群组进入聊天界面。
5.点击取消进入联系人主页面。
```

* 扫一扫
```
测试场景：用户已经登录，链接上Socket
操作流程：
1.扫描普通的Http链接，跳转至WebView界面加载链接。
2.扫描外部红包链接
    成功-领取方:出现领取红包动画、发送方:收到系统消息“XX领取了你的红包详情”
    失败-提示对应失败原因。
3.扫面外部转账链接
    成功-好友关系:生成好友会话
    陌生人关系:生成陌生人会话
    失败-提示对应失败原因。
4.扫面群组链接\群二维码
    是群成员关系:进入群聊界面
    非群成员关系:申请去群界面
5.扫面带bitcoin的地址二维码（带amout转账界面必须把转账金额填上）
    好友关系\地址为平台注册用户：调至单个用户转账界面
    非平台注册地址：调至地址转账
6.扫面纯比特币地址
    好友关系：跳转至好友详情
    平台注册用户：跳转至陌生人界面
    非平台用户：地址转账界面
7.扫面不属于以上情况的二维码，提示“二维码错误”
注意点：
1.扫面时尽可能多尝试几款机型，测试不同机型识别率
```
eg：
* 外部红包链接
```
https://----.connect.im/share/v1/packet?token=-----
```
* 外部转账链接
```
https://----.connect.im/share/v1/transfer?token=-----
```
* 扫面群组链接\群二维码
```
https://----.connect.im/share/v1/group?token=-----
group:-----/------/-----/-------
```
* 带bitcoin的地址
```
bitcoin:1CDheG1rvKoaPMnkswzcr3xphPVTyxxzYY?amount=1.0
```


###### 会话模块
* 免扰设置
```
测试目的：保证用户用户设置免扰后，没有推送和响铃提示
测试场景：用户右滑动cell点击免扰，到个人/群组会话设置免扰，用户不接受推送和响铃，取消后，有消息提醒和数量提示
操作流程：
A对B的会话设置免扰，B发送消息给A
A通过右滑设置免扰，用户设置或者群组设置界面中，免扰状态同步
A通过用户设置或者群组设置界面取消免扰，到会话界面中，免扰状态同步
B会话在免扰状态下，A删除B会话，A选择B发送消息，会话界面的免扰依然存在
B会话在免扰状态下，A删除B会话，B给A发送消息，在A的界面，B会话免扰依然存在
B会话有消息提醒，设置免扰后，消息提醒清空
B会话没有有消息提醒，设置免扰
B会话有未读提醒，设置不免扰，界面刷新，显示消息数量，同步底部Tabar的消息数量为最新
系统会话不能设置免扰，只能删除
期望结果：如上
测试结果：通过 / 未通过
问题描述：
测试人：
```
* 置顶设置
```
测试目的：会话置顶后，会话将一直处在会话TableView的顶部
测试场景：个人/群组会话置顶，置顶只能在会话设置中设置
操作流程：
置顶A会话置顶，会话界面显示置顶状态
收到或者发送B会话消息
期望结果：A会话在顶部没动
测试结果：通过 / 未通过
问题描述：
测试人：
```
* 删除会话
```
测试目的：确保删除会话后，删除该回话的消息，但是不删除会话设置，和会话的对象（常用群组/个人）
测试场景：用户右滑动cell点击删除按钮
操作流程：
滑动A的会话cell点击删除
给A发送消息，或者受到A的消息，生成新的会话
打开会话，会话中之前的消息全部删除

设置A为阅后即焚或者免扰
滑动A的会话cell点击删除
给A发送消息，或者受到A的消息，生成新的会话
A的阅后即焚和免扰保留

期望结果：如上
测试结果：通过 / 未通过
问题描述：
测试人：
```
* 清空历史消息
```
测试目的：点击清空消息，聊天界面刷新，没有消息
测试场景：用户在设置中点击清除消息
操作流程：
进入会话设置界面
点击清除历史消息
期望结果：消息被删除，聊天界面刷新
测试结果：通过 / 未通过
问题描述：
测试人：
```
* 创建群组
```
测试目的：创建群组后界面跳转，确保群组基本信息和设置正常
测试场景：在个人会话设置界面创建群组，直接点加号选择好友，创建群组
操作流程：
进入会话设置界面
点击+号
选择联系人，至少3个人才能成为群组
期望结果：创建群组后界面跳转，群组默认名字为xxx的朋友，默认自己是群主，群组默认公开，群主能够显示群管理，普通成员不能显示群管理
测试结果：通过 / 未通过
问题描述：
测试人：
```

* 修改群组信息
```
测试目的：确保群信息修改成功，其他成员群信息及时同步
测试场景：在群设置中，修改群组名字和我在群组中的名字，开启或者关闭公开开关
操作流程：
点击群组名字，如果群公开，只有群主可以编辑；如果群不公开，所有人都可以编辑；
输入新的群组名字，群组名字符合一定条件，长度限制为：10
保存群组名字
本地更新数据库，并返回到设置界面，刷新界面
服务器发送群组变更到其他成员
其他成员的界面中，群组名字更新，数据库更新（验证：杀掉应用重新进入，该群组名是更新之后的）

更新个人在群组中的名字，进入到设置个人群名字界面
输入新的群组昵称，符合规则
保存
本地更新数据库，并返回到设置界面，刷新界面
服务器发送群组变更到其他成员
其他成员的界面中，某个成员的昵称修改同步更新，数据库更新（验证：杀掉应用重新进入，该群组名是更新之后的）
我发送消息，聊天界面和对方看到的是我的新的群组昵称

设置公开和不公开
如果公开，普通成员保存群组名称会失败，普通成员和群主的二维码会显示
如果不公开，普通成员保存群组昵称会成功，普通成员的二维码将不会显示，群主的二维码会显示

只有群主可以在群设置-群管理中更新群组简介和转让群组

保存群到通讯录
更新群组数据库字段未常用群组
联系人常用群组的分组中出现改群
卸载应用
重新安装登录该账号，常用群组和普通好友将同步到手机

移除常用群组
联系人常用群组的分组中该群将会被移除

测试结果：通过 / 未通过
问题描述：
测试人：
```
* 邀请好好进群
```
测试目的：确保通过发送群名片，扫群组链接，或者网页链接，用户能够进群
测试场景：1、在群组设置界面点击+号邀请新成员，3、在群组设置界面，点击右上角的邀请，选择好友邀请进群
3、用户扫码进群 4、分享群组链接，用户通过网页链接的二维码进群 5、用户通过点击网页链接中的进群按钮进群
操作流程：
1、在群组设置界面点击+号邀请新成员，选择好友，点击添加（n）
2、在群组设置界面点击+号傍边的箭头进入群组成员界面，点击右上角的邀请，选择好友， 点击添加（n）
被邀请的人将会收到群组
被邀请人点击群组名片，发送进群申请
群主将会收到一个进群申请
群主处理，通过\拒绝，申请人将会收到系统提示
群组名片也显示为已经处理
通过的话，群中将显示一条谁邀请了谁进入群的提示

通过群主获取一个群二维码
用户通过扫码发送进群申请
群主将会收到一个进群申请
群主处理，通过\拒绝，申请人将会收到系统提示
群组名片也显示为已经处理
通过的话，群中将显示一条谁邀请了谁进入群的提示

通过普通成员获取一个群二维码，如果群组公开，普通成员才能获取二维码，不公开，将不能获取二维码
用户通过扫码发送进群申请
群主将会收到一个进群申请
群主处理，通过\拒绝，申请人将会收到系统提示
群组名片也显示为已经处理
通过的话，群中将显示一条谁邀请了谁进入群的提示

通过普通成员分享一个，如果群组公开，普通成员才能分享群链接，不公开，将不能分享
用户通过Connect扫一扫扫描网页链接上的二维码发送进群申请
群主将会收到一个进群申请
群主处理，通过\拒绝，申请人将会收到系统提示
群组名片也显示为已经处理
通过的话，群中将显示一条谁邀请了谁进入群的提示

通过普通成员分享一个群组链接，如果群组公开，普通成员才能分享群链接，不公开，将不能分享
用户通过点击网页上的进群，跳转到Connect中发送进群申请
群主将会收到一个进群申请
群主处理，通过\拒绝，申请人将会收到系统提示
群组名片也显示为已经处理
通过的话，群中将显示一条谁邀请了谁进入群的提示

通过群主分享一个群组链接
用户通过Connect扫一扫扫描网页链接上的二维码发送进群申请
群主将会收到一个进群申请
群主处理，通过\拒绝，申请人将会收到系统提示
群组名片也显示为已经处理
通过的话，群中将显示一条谁邀请了谁进入群的提示

通过群主分享一个群组链接
用户通过点击网页上的进群，跳转到Connect中发送进群申请
群主将会收到一个进群申请
群主处理，通过\拒绝，申请人将会收到系统提示
群组名片也显示为已经处理
通过的话，群中将显示一条谁邀请了谁进入群的提示
```

* 消息发送
```
测试目的：确保消息能顺利到达对方的手机
测试场景：个人会话目前采用临时协商的方式生成密码，某用户以上上报过ChatCookie的情况下，如果删掉应用，在这期间，收到的个人消息将不能被解析，会话界面将会提示用户消息不能被解析
操作流程：
选择一个个人会话
发送文本 图片 视频 转账 红包 收款 名片 地理位置消息
对方在线的情况下，确保对方能正确收到
对方离线的情况下，确保对方能正确收到
1、对方更换手机登录该账号后，发送同样的消息，对方依然能收到
2、对方不更换手机，删除应用后，在这期间的离线消息将不能被解析（本地没有哪一个ChatCookie）

选择一个群组会话
发送文本 图片 视频 转账 红包 收款 名片 地理位置消息
群成员在线的情况下，确保对方能正确收到
群成员离线的情况下，确保对方能正确收到
```

* 个人转账
```
测试目的：个人转账
测试场景：在会话界面选择转账，输入金额后，点击转账
操作流程：
选择一个会话
点击转账
输入金额 ，点击转账 ，输入密码
转账成功，回到会话界面，对方收到转账消息
点击消息，点击txid号，查看区块链的转账金额是否正确

交易确认后，服务器将会发送交易确认的通知，聊天界面转账消息的未确认将会被修改为已确认

注意点：转账金额太小，设定固定手续费转账，自动计算手机费转账，已经找零太小提示，手续费太小提示，手续费太大提示
```

* 群组转账
```
测试目的：群组转账
测试场景：在会话界面选择转账，选择转账成员后， 输入金额后，点击转账
操作流程：
选择一个会话
点击转账
选择转账对象
输入金额 ，点击转账 ，输入密码
转账成功，回到会话界面，成员将单独收到转账消息
点击消息，点击txid号，查看区块链的转账金额是否正确

交易确认后，服务器将会发送交易确认的通知，聊天界面转账消息的未确认将会被修改为已确认

注意点：转账金额太小，设定固定手续费转账，自动计算手机费转账，已经找零太小提示，手续费太小提示，手续费太大提示
```

* 红包
```
测试目的：确保红包发送和领取
测试场景：个人群组会话界面点击红包，发送红包
操作流程：
选择一个会话
点击红包
个人红包输入金额
群组红包输入金额和人数
输入金额 ，点击转账 ，输入密码
点击支付

红包发送后回到聊天记录界面
个人红包自己不能领取
群组红包个人可以领取
领取成功后，红包的发送方将受到系统推动的谁领取了你的红包
领取者将会创建我领取了谁的红包



注意点：
领取过人会进入到红包详情页面
红包没领完时，没领取的人，进入领取成功的提示界面
红包领完时，没领取的人，进入领取失败的提示界面
转账金额太小，设定固定手续费转账，自动计算手机费转账，已经找零太小提示，手续费太小提示，手续费太大提示
```

* 收款
```
测试目的：发送个人收款或者群组众筹
测试场景：个人会话发起收款，群组会话发起众筹
操作流程：
选择一个人人会话
点击收款
个人点击收款，输入收款金额
点击收款
发送收款消息
对方收到收款消息
点击支付
支付成功
对方的会话界面显示一条我支付了谁的账单
收款方显示谁支付了我的账单
消息界面的未支付状态修改为未确认
=================
选择一个群组会话
发起一个众筹收款
输入金额和人数
发起众筹
群组中的某个成员支付
该成员的会话界面显示一条我支付了谁的账单
收款方显示谁支付了我的账单
消息界面的状态修改为 m / n
如果 m == n时，代表众筹收款完成
在收款方显示一条收款完成的消息
```
